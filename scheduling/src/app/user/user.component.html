<div class="user-list">
  <h2>Add New User</h2>
  <form (ngSubmit)="onSubmit()" class="form-grid">
    <div class="form-group">
      <label for="firstName">First Name:</label>
      <input
        type="text"
        id="firstName"
        name="firstName"
        [(ngModel)]="newUser.firstName"
        required
      />
    </div>
    <div class="form-group">
      <label for="lastName">Last Name:</label>
      <input
        type="text"
        id="lastName"
        name="lastName"
        [(ngModel)]="newUser.lastName"
        required
      />
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="newUser.email"
        required
      />
    </div>
    <button type="submit">Submit</button>
  </form>

  <!-- Search Form -->
  <div class="search-form">
    <h2>Search Users</h2>
    <input
      type="text"
      placeholder="Search by First Name"
      [(ngModel)]="searchFirstName"
    />
    <input
      type="text"
      placeholder="Search by Last Name"
      [(ngModel)]="searchLastName"
    />
    <button (click)="searchUsers()">Search</button>
  </div>

  <!-- Absence Form Section -->
  <div class="absence-form-container" *ngIf="selectedUserId">
    <h2>Add Absence</h2>
    <form (ngSubmit)="submitAbsence()" class="form-grid">
      <div class="form-group">
        <label for="absenceDefinitionId">Absence Definition ID:</label>
        <input
          type="text"
          id="absenceDefinitionId"
          name="absenceDefinitionId"
          [(ngModel)]="newAbsence.AbsenceDefinitionId"
          required
        />
      </div>
      <div class="form-group">
        <label for="timestamp">Timestamp:</label>
        <input
          type="datetime-local"
          id="timestamp"
          name="timestamp"
          [(ngModel)]="newAbsence.Timestamp"
          required
        />
      </div>
      <div class="form-group">
        <label for="comment">Comment:</label>
        <input
          type="text"
          id="comment"
          name="comment"
          [(ngModel)]="newAbsence.Comment"
        />
      </div>
      <div class="form-group">
        <label for="partialTimeFrom">Partial Time From:</label>
        <input
          type="datetime-local"
          id="partialTimeFrom"
          name="partialTimeFrom"
          [(ngModel)]="newAbsence.PartialTimeFrom"
        />
      </div>
      <div class="form-group">
        <label for="partialTimeTo">Partial Time To:</label>
        <input
          type="datetime-local"
          id="partialTimeTo"
          name="partialTimeTo"
          [(ngModel)]="newAbsence.PartialTimeTo"
        />
      </div>
      <div class="form-group">
        <label for="partialTimeDuration">Partial Time Duration:</label>
        <input
          type="number"
          id="partialTimeDuration"
          name="partialTimeDuration"
          [(ngModel)]="newAbsence.PartialTimeDuration"
        />
      </div>
      <div class="form-group">
        <label for="isPartial">Is Partial:</label>
        <input
          type="checkbox"
          id="isPartial"
          name="isPartial"
          [(ngModel)]="newAbsence.IsPartial"
        />
      </div>
      <div class="form-group">
        <label for="overrideHolidayAbsence">Override Holiday Absence:</label>
        <input
          type="checkbox"
          id="overrideHolidayAbsence"
          name="overrideHolidayAbsence"
          [(ngModel)]="newAbsence.OverrideHolidayAbsence"
        />
      </div>
      <button type="submit">Submit Absence</button>
    </form>
  </div>

  <!-- User List -->
  <h2>User List</h2>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of filteredUsers">
        <td>{{ user.Id }}</td>
        <td>{{ user.FirstName }}</td>
        <td>{{ user.LastName }}</td>
        <td>{{ user.Email }}</td>
        <td>
          <button (click)="showAbsenceForm(user.Id)">Add Absence</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
